<div class="dashboard-filter-container">
  <!-- Header Section -->
  <div class="filter-header">
    <div class="header-left">
      <i class="header-icon fas fa-filter"></i>
      <h2 class="header-title">Dashboard Filter</h2>
      <span class="found-count">({{ foundCount }} found)</span>
    </div>
    <div class="header-right">
      <i class="sort-icon fas fa-sort"></i>
      <span class="sort-label">Sort</span>
    </div>
  </div>

  <!-- Dashboard Filter Accordion -->
  <div class="dashboard-filter-accordion">
    <fieldset class="filter-fieldset">
      <div class="accordion-header">
        <div class="input-group">
          <input type="text" placeholder="Filters" [(ngModel)]="filterText" (input)="onFilterChange()" class="filter-input">
        </div>
        <div class="input-group">
          <input type="text" placeholder="Site" [(ngModel)]="siteFilter" class="filter-input">
        </div>
        <div class="input-group">
          <input type="text" placeholder="Sectors" [(ngModel)]="sectorsFilter" class="filter-input">
        </div>
        <div class="input-group">
          <input type="text" placeholder="Assigned doctors" [(ngModel)]="assignedDoctorsFilter" class="filter-input">
        </div>
        <div class="input-group">
          <div class="date-label">Date</div>
        </div>
        <button class="collapse-btn-positioned" (click)="toggleExpanded()">
          <i class="fas" [ngClass]="isExpanded ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
        </button>
      </div>

      <div class="accordion-content" [ngClass]="{'collapsed': !isExpanded}">
        <div class="filter-columns">
          <!-- First Column -->
          <div class="filter-column">
            <div class="radio-group">
              <label class="radio-option">
                <input type="radio" name="filterType" value="all" class="custom-radio" checked>
                <span class="radio-label">All</span>
              </label>
              <label class="radio-option">
                <input type="radio" name="filterType" value="favorites" class="custom-radio">
                <span class="radio-label">Favorites</span>
              </label>
            </div>

            <div class="separator"></div>

            <div class="checkbox-list">
              <label class="checkbox-option" *ngFor="let option of filterOptions">
                <input type="checkbox" class="custom-checkbox" [checked]="option.checked" (change)="onCheckboxChange(option)">
                <span class="checkbox-label">{{ option.label }}</span>
                <span class="option-count">{{ option.count }}</span>
              </label>
            </div>
          </div>

          <!-- Second Column -->
          <div class="filter-column">
            <div class="checkbox-list">
              <label class="checkbox-option" *ngFor="let site of siteOptions">
                <input type="checkbox" class="custom-checkbox" [checked]="site.checked" (change)="onSiteChange(site)">
                <span class="checkbox-label">{{ site.name }}</span>
                <span class="option-count">{{ site.count }}</span>
              </label>
            </div>
          </div>

          <!-- Third Column -->
          <div class="filter-column">
            <div class="checkbox-list">
              <label class="checkbox-option" *ngFor="let sector of sectorOptions">
                <input type="checkbox" class="custom-checkbox" [checked]="sector.checked" (change)="onSectorChange(sector)">
                <span class="checkbox-label">{{ sector.name }}</span>
                <span class="option-count">{{ sector.count }}</span>
              </label>
            </div>
          </div>

          <!-- Fourth Column -->
          <div class="filter-column">
            <div class="checkbox-list">
              <label class="checkbox-option" *ngFor="let doctor of doctorOptions">
                <input type="checkbox" class="custom-checkbox" [checked]="doctor.checked" (change)="onDoctorChange(doctor)">
                <span class="checkbox-label">{{ doctor.name }}</span>
                <span class="option-count">{{ doctor.count }}</span>
              </label>
            </div>
          </div>

          <!-- Fifth Column - Date -->
          <div class="filter-column">
            <div class="date-options">
              <label class="radio-option vertical">
                <input type="radio" name="dateType" value="all" class="custom-radio" checked>
                <span class="radio-label">All dates</span>
              </label>
              <label class="radio-option vertical">
                <input type="radio" name="dateType" value="today" class="custom-radio">
                <span class="radio-label">Today</span>
              </label>
              <label class="radio-option vertical">
                <input type="radio" name="dateType" value="yesterday" class="custom-radio">
                <span class="radio-label">Yesterday</span>
              </label>
              <label class="radio-option vertical">
                <input type="radio" name="dateType" value="week" class="custom-radio">
                <span class="radio-label">This week</span>
              </label>
              <label class="radio-option vertical">
                <input type="radio" name="dateType" value="month" class="custom-radio">
                <span class="radio-label">This month</span>
              </label>
              <label class="radio-option vertical">
                <input type="radio" name="dateType" value="custom" class="custom-radio">
                <span class="radio-label">Custom range</span>
              </label>

              <div class="separator gray"></div>

              <div class="date-inputs">
                <div class="date-input-group">
                  <input type="date" class="date-input" [(ngModel)]="startDate">
                  <i class="date-icon fas fa-calendar"></i>
                </div>
                <div class="date-input-group">
                  <input type="date" class="date-input" [(ngModel)]="endDate">
                  <i class="date-icon fas fa-calendar"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </fieldset>
  </div>

  <!-- Results Section -->
  <div class="results-section">
    <div class="results-placeholder">
      Results will be displayed here based on the applied filters.
    </div>
  </div>
</div>