<div class="viewer-container">
  <div class="panel-header">
    <div class="header-content">
      <h3>Image Viewer</h3>
      <p class="subtitle" *ngIf="exam">{{exam.patientName}} / {{exam.reference}}</p>
    </div>
    <div class="viewer-controls">
      <button class="control-btn" (click)="zoomOut()" [disabled]="zoomLevel <= 25">
        <i class="fas fa-search-minus"></i>
      </button>
      <span class="zoom-level">{{zoomLevel}}%</span>
      <button class="control-btn" (click)="zoomIn()" [disabled]="zoomLevel >= 200">
        <i class="fas fa-search-plus"></i>
      </button>
      <button class="control-btn" (click)="resetZoom()">
        <i class="fas fa-expand-arrows-alt"></i>
      </button>
    </div>
  </div>

  <div class="panel-content">
    <div class="image-viewer" *ngIf="exam">
      <div class="image-container">

        <img src="assets/images/viewer/{{listeOfViewers[currentImageIndex]}}" alt="Medical Image"
          [style.transform]="'scale(' + (zoomLevel / 100) + ')'" class="medical-image">
      </div>

      <div class="image-navigation" *ngIf="listeOfViewers && listeOfViewers.length > 1">
        <button class="nav-btn" (click)="previousImage()" [disabled]="currentImageIndex === 0">
          <i class="fas fa-chevron-left"></i>
        </button>
        <span class="image-counter">
          {{currentImageIndex + 1}} / {{listeOfViewers.length || 0}}
        </span>
        <button class="nav-btn" (click)="nextImage()"
          [disabled]="currentImageIndex >= (listeOfViewers.length || 0) - 1">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>

    <div class="no-exam" *ngIf="!exam">
      <i class="fas fa-image"></i>
      <p>No exam selected</p>
    </div>
  </div>
</div>